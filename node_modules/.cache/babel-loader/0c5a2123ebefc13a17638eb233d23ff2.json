{"ast":null,"code":"import axios from 'axios';\nimport userdata from './userData.json'; // axios.post('https://ironrest.herokuapp.com/voodoochildren', {hello: 'children', id:Math.random()})\n// axios.get('https://ironrest.herokuapp.com/voodoochildren').then(res => console.log(res));\n\nfunction makeid(length) {\n  var result = '';\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var charactersLength = characters.length;\n\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  return result;\n} // first we check if the user has already used the page\n// check local storage to see if they have\n// if they haven't we have to create a new user in the api and then update whenever the shopping cart changes\n// if they have then we get the user information from the database like objects in shopping cart\n\n\nlet userID;\nlet userData;\n\nif (!localStorage.getItem('userID')) {\n  userID = makeid(16);\n  localStorage.setItem('userID', `${userID}`);\n  axios.post(`https://ironrest.herokuapp.com/voodoochildren`, {\n    user: userID,\n    cart: []\n  });\n} else {\n  axios.get(`https://ironrest.herokuapp.com/findOne/voodoochildren?user=${localStorage.getItem('userID')}`).then(res => {\n    console.log({ ...res.data\n    });\n    userData = { ...res.data\n    };\n  });\n}\n\nexport const updateCart = user => {\n  axios.get(`https://ironrest.herokuapp.com/voodoochildren/${userData._id}`).then(res => {\n    console.log(userData._id);\n  });\n};","map":{"version":3,"sources":["/Users/barco/Desktop/sites/voodoochildren/voodoo-children/src/userData/userData.js"],"names":["axios","userdata","makeid","length","result","characters","charactersLength","i","charAt","Math","floor","random","userID","userData","localStorage","getItem","setItem","post","user","cart","get","then","res","console","log","data","updateCart","_id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,iBAArB,C,CAEA;AACA;;AAEA,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;AACpB,MAAIC,MAAM,GAAa,EAAvB;AACA,MAAIC,UAAU,GAAS,gEAAvB;AACA,MAAIC,gBAAgB,GAAGD,UAAU,CAACF,MAAlC;;AACA,OAAM,IAAII,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAGJ,MAArB,EAA6BI,CAAC,EAA9B,EAAmC;AACjCH,IAAAA,MAAM,IAAIC,UAAU,CAACG,MAAX,CAAkBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBL,gBAA3B,CAAlB,CAAV;AACD;;AACD,SAAOF,MAAP;AACH,C,CAEC;AACA;AACA;AACA;;;AAEA,IAAIQ,MAAJ;AACA,IAAIC,QAAJ;;AAEF,IAAG,CAACC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAJ,EAAoC;AAChCH,EAAAA,MAAM,GAAGV,MAAM,CAAC,EAAD,CAAf;AACAY,EAAAA,YAAY,CAACE,OAAb,CAAqB,QAArB,EAAgC,GAAEJ,MAAO,EAAzC;AACAZ,EAAAA,KAAK,CAACiB,IAAN,CAAY,+CAAZ,EAA4D;AAACC,IAAAA,IAAI,EAAEN,MAAP;AAAeO,IAAAA,IAAI,EAAE;AAArB,GAA5D;AACH,CAJD,MAIO;AACHnB,EAAAA,KAAK,CAACoB,GAAN,CAAW,8DAA6DN,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B,EAAvG,EAA0GM,IAA1G,CAA+GC,GAAG,IAAI;AAClHC,IAAAA,OAAO,CAACC,GAAR,CAAY,EAAC,GAAGF,GAAG,CAACG;AAAR,KAAZ;AACAZ,IAAAA,QAAQ,GAAG,EAAC,GAAGS,GAAG,CAACG;AAAR,KAAX;AACH,GAHD;AAIH;;AAGD,OAAO,MAAMC,UAAU,GAAIR,IAAD,IAAU;AAClClB,EAAAA,KAAK,CAACoB,GAAN,CAAW,iDAAgDP,QAAQ,CAACc,GAAI,EAAxE,EAA2EN,IAA3E,CAAgFC,GAAG,IAAI;AACrFC,IAAAA,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACc,GAArB;AACD,GAFD;AAGD,CAJM","sourcesContent":["import axios from 'axios';\nimport userdata from './userData.json';\n\n// axios.post('https://ironrest.herokuapp.com/voodoochildren', {hello: 'children', id:Math.random()})\n// axios.get('https://ironrest.herokuapp.com/voodoochildren').then(res => console.log(res));\n\nfunction makeid(length) {\n    var result           = '';\n    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for ( var i = 0; i < length; i++ ) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n}\n  \n  // first we check if the user has already used the page\n  // check local storage to see if they have\n  // if they haven't we have to create a new user in the api and then update whenever the shopping cart changes\n  // if they have then we get the user information from the database like objects in shopping cart\n  \n  let userID;\n  let userData;\n  \nif(!localStorage.getItem('userID')) {\n    userID = makeid(16)\n    localStorage.setItem('userID', `${userID}`);\n    axios.post(`https://ironrest.herokuapp.com/voodoochildren`, {user: userID, cart: []});\n} else {\n    axios.get(`https://ironrest.herokuapp.com/findOne/voodoochildren?user=${localStorage.getItem('userID')}`).then(res => {\n        console.log({...res.data});\n        userData = {...res.data}\n    });\n}\n\n\nexport const updateCart = (user) => {\n  axios.get(`https://ironrest.herokuapp.com/voodoochildren/${userData._id}`).then(res => {\n    console.log(userData._id);\n  })\n}\n\n"]},"metadata":{},"sourceType":"module"}